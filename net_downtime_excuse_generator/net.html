<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Генератор оправданий простоя сети</title>
  <style>
    :root {
      --bg: #061017;
      --panel: #07121a;
      --accent: #00ff99;
      --accent-glow: rgba(0, 255, 153, 0.4);
      --muted: #6fb3a8;
      --danger: #ff4d4f;
      --danger-glow: rgba(255, 77, 79, 0.4);
      --glass: rgba(255, 255, 255, 0.03);
      --text: #e0f2ee;
      font-size: 16px;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      margin: 0;
      height: 100vh;
      font-family: 'SFMono-Regular', Consolas, Monaco, Menlo, monospace;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(0, 255, 153, 0.05), transparent), var(--bg);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      position: relative;
      overflow: hidden;
    }
    
    /* Анимированный фон */
    .bg-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.15;
    }
    
    .bg-circle {
      position: absolute;
      border-radius: 50%;
      background: var(--accent);
      opacity: 0.1;
      filter: blur(40px);
    }
    
    /* Основной терминал */
    .terminal {
      width: min(1000px, 96vw);
      background: linear-gradient(135deg, rgba(7, 18, 26, 0.9), rgba(6, 16, 23, 0.95));
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7), 
                  0 0 0 1px rgba(255, 255, 255, 0.03),
                  inset 0 1px 0 rgba(255, 255, 255, 0.05);
      padding: 32px;
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      backdrop-filter: blur(10px);
      z-index: 2;
    }
    
    /* Кнопка "Назад" */
    .back-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: linear-gradient(135deg, rgba(0, 255, 153, 0.15), rgba(0, 204, 255, 0.15));
      border: 1px solid rgba(0, 255, 153, 0.2);
      color: var(--accent);
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 0.9rem;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.25s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1),
                  inset 0 1px 0 rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(4px);
    }
    
    .back-btn:hover {
      background: linear-gradient(135deg, rgba(0, 255, 153, 0.25), rgba(0, 204, 255, 0.25));
      transform: translateX(-2px);
      box-shadow: 0 6px 12px rgba(0, 255, 153, 0.25);
      border-color: rgba(0, 255, 153, 0.3);
    }
    
    /* Заголовок */
    .header {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 24px;
      justify-content: center;
      padding-top: 10px;
    }
    
    .dots {
      display: flex;
      gap: 8px;
    }
    
    .dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    }
    
    .dot.red { background: #ff5f56; }
    .dot.yellow { background: #ffbd2e; }
    .dot.green { background: #27c93f; }
    
    h1 {
      font-size: 1.1rem;
      margin: 0;
      color: var(--muted);
      letter-spacing: 1px;
      font-weight: 500;
    }
    
    /* Основная сетка */
    .main {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 24px;
      align-items: start;
    }
    
    @media (max-width: 880px) {
      .main {
        grid-template-columns: 1fr;
      }
    }
    
    /* Левая колонка */
    .left {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    /* Кнопка SOS */
    .big-center {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 340px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.02), transparent);
      border: 1px dashed rgba(255, 255, 255, 0.03);
      position: relative;
      overflow: hidden;
    }
    
    .big-center::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at center, rgba(0, 255, 153, 0.05) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .big-center:hover::before {
      opacity: 1;
    }
    
    .sos-btn {
      --size: 220px;
      width: var(--size);
      height: var(--size);
      border-radius: 50%;
      background: conic-gradient(from 0deg, #ff7b7b, #ff4949, #b52b2b, #ff7b7b);
      animation: pulseGlow 3s infinite;
      box-shadow: 0 0 50px rgba(255, 73, 73, 0.5),
                  inset 0 -8px 20px rgba(0, 0, 0, 0.4);
      border: 8px solid rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }
    
    .sos-btn:before {
      content: "";
      position: absolute;
      inset: -20%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
      animation: rotate 10s linear infinite;
      opacity: 0.6;
    }
    
    .sos-btn:hover {
      transform: scale(1.03);
      animation: pulseGlow 1s infinite;
    }
    
    .sos-btn:active {
      transform: scale(0.97);
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 40px rgba(255, 73, 73, 0.5); }
      50% { box-shadow: 0 0 70px rgba(255, 73, 73, 0.8); }
    }
    
    .sos-label {
      font-weight: 900;
      font-size: 2.6rem;
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
      z-index: 2;
      letter-spacing: 2px;
    }
    
    /* Фильтры */
    .filters {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 8px;
      padding: 12px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
    }
    
    .filters label {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
      padding: 6px 10px;
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .filters label:hover {
      background: rgba(0, 255, 153, 0.1);
      border-color: rgba(0, 255, 153, 0.2);
    }
    
    input[type="checkbox"] {
      accent-color: var(--accent);
      width: 16px;
      height: 16px;
      cursor: pointer;
      filter: invert(1) hue-rotate(180deg);
    }
    
    /* Вывод оправдания */
    .output {
      min-height: 160px;
      background: var(--panel);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.03);
      display: flex;
      flex-direction: column;
      gap: 12px;
      justify-content: center;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.2);
      position: relative;
    }
    
    .output::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    }
    
    .line {
      font-size: 0.95rem;
      color: var(--muted);
    }
    
    .excuse {
      font-size: 1.15rem;
      line-height: 1.5;
      color: #fff;
      min-height: 50px;
      background: linear-gradient(90deg, 
        #00ff99 0%, 
        #00ccff 25%, 
        #9933ff 50%, 
        #ff4d4f 75%, 
        #00ff99 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 600;
      padding: 5px 0;
      background-size: 300% auto;
      animation: gradientShift 10s linear infinite;
    }

    @keyframes gradientShift {
      0% { background-position: 0% center; }
      100% { background-position: 300% center; }
    }
    
    /* Элементы управления */
    .controls {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    
    .btn {
      background: linear-gradient(135deg, rgba(0, 255, 153, 0.15), rgba(0, 204, 255, 0.15));
      border: 1px solid rgba(0, 255, 153, 0.2);
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      color: var(--accent);
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 
                  inset 0 1px 0 rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(4px);
    }
    
    .btn:hover {
      background: linear-gradient(135deg, rgba(0, 255, 153, 0.25), rgba(0, 204, 255, 0.25));
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 255, 153, 0.25);
      border-color: rgba(0, 255, 153, 0.3);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .btn.ghost {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: var(--text);
      backdrop-filter: blur(4px);
    }
    
    .btn.ghost:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.25);
    }
    
    .small {
      font-size: 0.86rem;
      padding: 8px 12px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    /* Правая колонка */
    .right {
      min-width: 260px;
    }
    
    .panel {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.02), transparent);
      padding: 18px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.03);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    
    .muted {
      color: var(--muted);
      font-size: 0.9rem;
      margin-bottom: 10px;
    }
    
    /* Футер */
    footer {
      margin-top: 20px;
      color: var(--muted);
      font-size: 0.82rem;
      text-align: center;
      opacity: 0.7;
    }
    
    /* Анимации текста */
    .caret {
      display: inline-block;
      width: 10px;
      height: 1.1em;
      background: linear-gradient(90deg, rgba(230, 255, 245, 0.0) 30%, rgba(230, 255, 245, 0.9) 50%, rgba(230, 255, 245, 0.0) 70%);
      margin-left: 6px;
      animation: blink 1s steps(2) infinite;
      vertical-align: text-bottom;
    }
    
    @keyframes blink {
      50% { opacity: 0; }
    }
    
    .prompt-box {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.02), transparent);
      padding: 14px;
      border-radius: 8px;
      border: 1px dashed rgba(255, 255, 255, 0.05);
      font-size: 0.9rem;
      line-height: 1.5;
      color: var(--text);
      margin-top: 10px;
      transition: all 0.3s ease;
    }
    
    .smallnote {
      font-size: 0.82rem;
      color: var(--muted);
    }
    
    /* Статистика */
    .stats {
      display: flex;
      gap: 15px;
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.03);
    }
    
    .stat {
      font-size: 0.85rem;
      color: var(--muted);
    }
    
    .stat span {
      color: var(--accent);
      font-weight: bold;
    }
    
    /* Адаптивность */
    @media (max-width: 600px) {
      .terminal {
        padding: 20px;
      }
      
      .sos-btn {
        --size: 180px;
      }
      
      .sos-label {
        font-size: 2.2rem;
      }
      
      .filters {
        flex-direction: column;
        gap: 10px;
      }
      
      .controls {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <!-- Анимированный фон -->
  <div class="bg-animation" id="bgAnimation"></div>
  
  <div class="terminal" role="application">
    <a href="https://kedoff.github.io" class="back-btn">← Назад в хаб</a>
    
    <div class="header">
      <div class="dots">
        <div class="dot red"></div>
        <div class="dot yellow"></div>
        <div class="dot green"></div>
      </div>
      <h1>Генератор оправданий простоя сети</h1>
    </div>

    <div class="main">
      <div class="left">
        <div class="big-center">
          <div class="sos-btn" id="sos">
            <div class="sos-label">SOS</div>
          </div>
        </div>

        <div class="filters">
          <label><input type="checkbox" id="chkTech" checked> Технически правдоподобно</label>
          <label><input type="checkbox" id="chkComic" checked> Комично</label>
          <label><input type="checkbox" id="chkAbsurd" checked> Абсурдно</label>
        </div>

        <div class="output" aria-live="polite">
          <div class="line smallnote">Причина простоя:</div>
          <div class="excuse" id="excuse">Нажмите <strong>SOS</strong>, чтобы получить оправдание.</div>
          
          <div class="controls">
            <button class="btn small" id="another">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4.01 7.58 4.01 12C4.01 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="currentColor"/>
              </svg>
              Ещё
            </button>
            <button class="btn small" id="copy">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
              </svg>
              Скопировать
            </button>

                <path d="M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z" fill="currentColor"/>
              </svg>
            </button>
          </div>
          
          <div class="stats">
            <div class="stat">Сгенерировано: <span id="counter">0</span></div>
            <div class="stat">В работе: <span id="uptime">00:00:00</span></div>
          </div>
        </div>

      </div>

      <aside class="right">
        <div class="panel">
          <div class="muted">Привет!</div>
          <div class="prompt-box" id="promptBox"> Под кнопкой вы можете выбрать категории оправданий.</div>
        </div>
      </aside>
    </div>
  </div>

  <script>
    const EXCUSES = {
  tech: [
    "BGP-сессия зациклилась и объявила весь интернет как /0 — мы всё анонсировали сами себе.",
  "DNS-зона внезапно делегировалась коту системного администратора — резолвинг невозможен.",
  "Оптоволоконный кабель перегорел из-за обратного пинга — трассировка закончилась в вакууме.",
  "Маршрутизатор ядра обнаружил квантовую суперпозицию и теперь одновременно и работает, и не работает.",
  "Проблема с синхронизацией NTP-серверов — время в сети течёт вспять.",
  "Внезапный всплеск IPv6-трафика вызвал коллапс на граничном маршрутизаторе.",
  "Сервер авторизации решил, что все пользователи — боты, и заблокировал всё.",
  "Межпланетный протокол связи помешал земному интернету — привет от марсохода.",
  "Маршрутизатор решил применить квантовый туннелинг к пакетам и потерял половину маршрутов.",
  "DNS-сервер впал в суперпозицию ответов и теперь раздаёт все IP сразу.",
  "Фаервол решил, что пакеты с числом π опасны, и заблокировал математику в сети.",
  "Трафик BGP попал в петлю времени и теперь возвращается раньше, чем ушёл.",
  "Сервер VPN превратился в чёрную дыру для пакетов и засасывает весь трафик провайдера.",
  "Квантовый коммутатор решил измерять пакеты, но каждый раз изменял их состояние.",
  "Маршрутизатор внезапно решил, что 0.0.0.0 — это его личный IP, и заблокировал всех остальных.",
  "DNS-сервер перешёл на квантовую энтропию и выдаёт адреса случайным образом.",
  "BGP-сессия начала соревноваться с соседними AS и объявила их сети как собственные.",
  "Сервер DHCP решил раздавать IP только устройствам с кошачьим именем.",
  "Трафик VoIP перепутал пакеты с аудиопотоками котов и ушёл в оффлайн.",
  "Оптоволоконный кабель стал сверхпроводником после прыжка через квантовую фазу.",
  "Сетевой коммутатор решил измерять пакеты, но каждый раз результат ломал таблицу MAC.",
  "Маршрутизатор начал использовать VPN для самосохранения и заблокировал всех клиентов.",
  "NTP-сервер впал в квантовую суперпозицию и теперь одновременно показывает вчера, сегодня и завтра.",
  "Пакеты IPv4 и IPv6 устроили войну за маршруты и перегрузили ядро сети.",
  "Сервер авторизации принял DDoS за медитацию пользователей и отключил все подключения.",
  "Фаервол решил шифровать все пакеты дважды и заблокировал сам себя.",
  "QoS-политика перепутала приоритеты и отправила интернет только холодильникам.",
  "Маршрутизатор ядра начал генерировать случайные AS Path и рассыпал весь интернет.",
  "DNS-рекурсор решил проверять правильность имён у котов соседей и завис.",
  "Туннель GRE случайно открыл портал в параллельный интернет.",
  "Сервер VPN решил шифровать пакеты с любовью и перестал работать.",
  "Маршрутизатор принял ICMP Echo Reply за угрозу и заблокировал весь трафик.",
  "BGP-сессия решила повторять свои анонсы бесконечно, создавая петлю времени.",
  "Оптоволоконный кабель забыл, куда идёт трафик, и устроил мгновенный blackout.",
  "Маршрутизатор ядра переписал таблицу маршрутизации в стиле ASCII-арт.",
  "Сервер авторизации решил использовать CAPTCHA для всех запросов API.",
  "BGP-сессия устроила турнир среди AS и проиграла сама себе.",
  "DNS-сервер решил проверять имена планет и заблокировал локальные сайты.",
  "Сервер VPN ушёл в оффлайн, чтобы медитировать с квантовыми пакетами.",
  "Фаервол принял ICMP Redirect как знак апокалипсиса и закрыл все порты.",
  "Маршрутизатор начал экспериментировать с NAT и потерял половину клиентов.",
  "QoS-политика отдала весь приоритет пакетам с котиками.",
  "Синхронизация NTP вызвала реверс времени в части дата-центра.",
  "Оптоволоконный кабель стал сверхпроводником и заблокировал менее быстрые потоки.",
  "BGP-сессия решила заменить все маршруты на emoji.",
  "Сервер DHCP раздаёт IP только устройствам с именем длиной более 20 символов.",
  "DNS-зона случайно делегировалась в интернет вещей.",
  "Сетевой коммутатор вошёл в квантовую суперпозицию и заблокировал VLAN.",
  "Маршрутизатор начал шифровать трафик без ключей.",
  "VPN-туннель открыл портал в параллельный интернет.",
  "Сервер авторизации заблокировал всех за нарушение правил квантовой этики.",
  "Оптоволоконный кабель стал частью нейросети и заблокировал обычный трафик.",
  "BGP-сессия решила повторять анонсы в обратном порядке.",
  "Маршрутизатор решил отправлять пакеты через левые маршруты, чтобы проверить терпение пользователей.",
  "Сервер DHCP начал выдавать IP, начинающиеся с числа e.",
  "DNS-сервер перешёл на генерацию случайных адресов через генератор хаоса.",
  "Маршрутизатор ядра решил использовать искусственный интеллект для выбора маршрутов, но забыл об IPv4.",
  "Фаервол решил, что ICMP — это древний язык заклинаний, и заблокировал весь трафик.",
  "Сервер VPN начал шифровать данные с помощью алгоритма кота — ключ недоступен.",
  "Маршрутизатор ядра начал устраивать тесты на квантовую телепортацию пакетов.",
  "DNS-сервер решил переписать таблицы зон в стиле сюрреализма.",
  "BGP-сессия объявила все AS локальными и заблокировала внешние маршруты.",
  "Сервер авторизации решил проверить пользователей на наличие чувства юмора и заблокировал тех, кто не смеётся.",
  "Оптоволоконный кабель впал в депрессию после слишком большого числа трассировок.",
  "Маршрутизатор решил создать внутренний интернет для собственного удовольствия и заблокировал внешние подключения.",
  "Сервер DHCP начал выдавать IP только устройствам с котами на экране.",
  "NTP-сервер решил синхронизировать время по фазам Луны, нарушив весь график.",
  "BGP-сессия начала играть в рулетку с маршрутами и случайно выключила половину интернетов.",
  "DNS-рекурсор стал писать дневник для пакетов данных и заблокировал резолвинг.",
  "Маршрутизатор начал интерпретировать HTTP-запросы как команды котов и заблокировал пользователей.",
  "Оптоволоконный кабель решил протестировать квантовый инкапсулятор пакетов.",
  "Сервер VPN заблокировал все подключения, пока не согласится на медитацию с квантовыми пакетами.",
  "BGP-сессия решила шифровать маршруты в Base64 и потеряла часть сети.",
  "DNS-сервер стал считать каждый запрос угрозой и заблокировал половину интернета.",
  "Фаервол решил, что пакеты TCP устали работать, и дал им отпуск.",
  "Сервер авторизации начал проводить интервью у пакетов перед допуском в сеть.",
  "Маршрутизатор ядра решил отправлять пакеты через случайные планеты, чтобы проверить мультивселенную.",
  "Сервер DHCP начал выдавать IP в обратном порядке, чтобы проверить терпение пользователей.",
  "BGP-сессия начала устраивать вечеринку для маршрутов и заблокировала весь трафик.",
  "DNS-сервер решил проверять каждый запрос на наличие юмора и заблокировал половину пользователей.",
  "Маршрутизатор ядра начал измерять скорость пакетов с помощью линейки.",
  "Сервер VPN начал шифровать пакеты только в синий цвет.",
  "Оптоволоконный кабель решил проверить квантовое туннелирование на офисных растения.",
  "Маршрутизатор начал шифровать трафик в рифмованной форме.",
  "DNS-сервер решил использовать алгоритм ‘угадай IP’ для всех клиентов.",
  "BGP-сессия начала игнорировать маршруты, где нет котиков в имени AS.",
  "Фаервол начал проверять пакеты на наличие мемов и блокировал опасные.",
  "Сервер авторизации начал выдавать доступ только тем, кто правильно нарисует топологию сети.",
  "Маршрутизатор решил тестировать обратную маршрутизацию через холодильник.",
  "Синхронизация NTP вызвала реверс времени на половине маршрутизаторов.",
  "Оптоволоконный кабель перепутал вход и выход и заблокировал весь интернет.",
  "Маршрутизатор ядра решил провести эксперименты с VPN через параллельные вселенные.",
  "DNS-сервер начал выдавать адреса в стиле латыни, чтобы запутать пользователей.",
  "BGP-сессия решила проверять маршруты по фазам Луны.",
  "Сервер DHCP начал раздавать IP на основе настроения администраторов.",
  "Фаервол решил шифровать трафик каждый раз, когда слышит слово 'пинг'.",
  "Маршрутизатор начал использовать NAT только для пакетов с кошками.",
  "Сервер авторизации заблокировал все подключения, чтобы медитировать с квантовыми пакетами.",
  "DNS-сервер решил протестировать свои ответы на котов в офисе.",
  "BGP-сессия решила объявлять только несуществующие маршруты.",
  "Оптоволоконный кабель начал проверку на прочность, пропуская пакеты сквозь стены.",
  "Маршрутизатор ядра решил сгенерировать маршруты на основе карты Таро.",
  "Фаервол начал блокировать все соединения, если не слышит аплодисментов.",
  "Сервер DHCP раздаёт IP только устройствам с QR-кодами на корпусе.",
  "BGP-сессия решила шифровать свои маршруты с помощью магии.",
  "DNS-сервер начал переводить адреса в двоичный код планеты Зорг.",
  "Маршрутизатор начал шифровать пакеты в стиле Ван Гога.",
  "Сервер VPN решил проверить свои алгоритмы на летающих пакетах.",
  "Оптоволоконный кабель устроил забастовку и перестал передавать пакеты.",
  "BGP-сессия решила, что все сети должны быть локальными и заблокировала внешний трафик.",
  "Маршрутизатор начал шифровать пакеты с помощью аромамедитации.",
  "DNS-сервер начал выдавать адреса с философским подтекстом.",
  "Фаервол решил, что TCP — это слишком скучно, и заблокировал все соединения.",
  "Сервер авторизации решил проверять пакеты на чувство юмора и блокировал несмешные.",
  "Маршрутизатор начал генерировать маршруты на основе положения звезд.",
  "BGP-сессия решила протестировать квантовую телепортацию маршрутов.",
  "Сервер DHCP начал выдавать IP только тем, кто прочитал эту шутку."
  ],
  comic: [
  "Хомяк системного администратора съел RJ-45 и теперь маршрутизирует внутри клетки.",
  "На коммутаторе ядра завис процесс, потому что кто-то включил микроволновку слишком близко.",
  "Дежурный инженер перепутал патчкорд с зарядкой для телефона и увёл сеть в сон.",
  "Сервер Dell почувствовал ревность к новому оборудованию HP и устроил бойкот.",
  "Пакеты данных застряли в лифте между этажами дата-центра.",
  "Виртуальная машина с Windows установила обновления и ушла на перезагрузку без предупреждения.",
  "Сетевой фильтр принял легитимный трафик за угрозу и самоуничтожился во благо человечества.",
  "Роутер перегрелся от слишком горячих пакетов данных с пиратской копией 'Аватара 2'.",
  "Сетевой кабель ушёл на прогулку и потерялся между серверами.",
  "Коммутатор начал курить сигареты из патчкордов и перегрелся.",
  "Роутер устроил забастовку, потому что Wi-Fi точка получила повышение.",
  "Монитор начал показывать только котиков вместо логов.",
  "Сервер решил заняться йогой и ушёл в позу лотоса.",
  "Принтер перепутал IP-адрес с номером лотереи и начал печатать билеты.",
  "Фаервол закрыл все порты, потому что устал от спама.",
  "Wi-Fi точка устроила караоке-конкурс и заблокировала всех, кто не умеет петь.",
  "Дежурный инженер заснул на клавиатуре и активировал режим хаоса.",
  "Сетевой кабель решил жениться на оптоволоконном и отключил себя в знак протеста.",
  "Сервер Dell устроил ревность к серверу HP и перестал отвечать на пинги.",
  "Роутер начал коллекционировать старые патчкорды вместо маршрутизации.",
  "Свитч отвлёкся на просмотр мемов и заблокировал VLAN.",
  "Сервер решил, что сегодня праздник, и выключил питание на всех портах.",
  "Точка доступа решила заняться садоводством и заблокировала всех пользователей.",
  "Кабели устроили дуэль из-за того, кто лучше проводит электричество.",
  "Сетевой фильтр решил, что пакеты не красивы, и заблокировал их.",
  "Роутер начал танцевать ламбаду и сбросил все подключения.",
  "Сервер случайно открыл портал в Minecraft вместо интернета.",
  "Патчкорд ушёл на пенсию и забрал с собой весь VLAN.",
  "Коммутатор решил устроить чаепитие с кабелями и заблокировал трафик.",
  "Маршрутизатор взял тайм-аут и заблокировал весь интернет в офисе.",
  "Сервер UPS устроил забастовку и перестал подавать питание.",
  "Wi-Fi точка пошла на стажировку к Bluetooth и заблокировала всех клиентов.",
  "Сетевой фильтр устроил карантин для всех пакетов с ошибками.",
  "Принтер забыл, как печатать, и стал раздавать спам вместо документов.",
  "Монитор решил показать прогноз погоды вместо логов.",
  "Сервер начал заниматься спортом и сбросил все соединения.",
  "Кабели устроили футбол между собой и перегорели.",
  "Свитч увлёкся шахматами и заблокировал VLAN.",
  "Роутер потерялся в офисе и не может найти нужный порт.",
  "Сетевой фильтр решил устроить арт-перфоманс и заблокировал пакеты.",
  "Монитор ушёл на пенсию, перестав показывать ошибки.",
  "Принтер начал печатать комиксы вместо документов.",
  "Роутер устроил карнавал и заблокировал все подключения.",
  "Сервер запутался в логах и ушёл в спячку.",
  "Кабельные соединения начали спор о длине кабеля и заблокировали VLAN.",
  "Wi-Fi точка решила устроить модный показ пакетов.",
  "Маршрутизатор начал коллекционировать старые маршруты как открытки.",
  "Сервер забыл пароль администратора и устроил хаос.",
  "Коммутатор решил устроить танцевальный флешмоб для пакетов.",
  "Сервер DHCP перепутал все IP и отправил их в соседний офис.",
  "Роутер решил устроить детективное расследование и заблокировал все подозрительные пакеты.",
  "Сетевой фильтр начал выдавать советы по жизни вместо блокировки трафика.",
  "Маршрутизатор начал вести дневник, куда записывает все пакеты.",
  "Сервер UPS стал играть в прятки с кабелями питания.",
  "Свитч перепутал VLAN и устроил фейерверк пакетов.",
  "Роутер решил проверить, может ли интернет летать и отключил Wi-Fi.",
  "Кабели начали спор о том, кто длиннее, и заблокировали соединения.",
  "Сетевой фильтр начал выдавать штрафы пакетам с низким приоритетом.",
  "Монитор решил показать смешные картинки вместо логов ошибок.",
  "Принтер устроил карнавал бумаги и заблокировал весь офис.",
  "Роутер начал играть в прятки с пакетами и потерял половину сети.",
  "Сервер решил устроить конкурс красоты между пакетами данных.",
  "Кабели начали соревнование по скоростной передаче данных.",
  "Wi-Fi точка устроила музыкальный вечер для пакетов и заблокировала пользователей.",
  "Маршрутизатор решил устроить забастовку из-за отсутствия кофе.",
  "Сервер DHCP начал выдавать IP на основе гороскопа.",
  "Свитч начал устраивать шахматные турниры между VLAN.",
  "Роутер решил протестировать квантовую суперпозицию и заблокировал половину сети.",
  "Коммутатор начал выдавать IP в стиле рандомной лотереи.",
  "Сервер авторизации устроил тест на смелость для всех пакетов.",
  "Wi-Fi точка решила устроить выставку искусства из пакетов данных.",
  "Маршрутизатор начал рисовать графики соединений вместо маршрутизации.",
  "Принтер стал создавать комиксы о сетевых кабелях.",
  "Сервер UPS устроил вечер памяти старых пакетов.",
  "Сетевой фильтр начал читать стихи вслух вместо блокировки.",
  "Роутер начал танцевать ламбаду и расставил все VLAN неправильно.",
  "Кабельные соединения устроили соревнование по скоростной передаче трафика.",
  "Сервер DHCP начал выдавать IP в стиле кроссворда.",
  "Коммутатор решил проводить уроки физики для пакетов данных.",
  "Маршрутизатор устроил квантовое чаепитие с пакетами.",
  "Wi-Fi точка начала вести блог о своей жизни и заблокировала интернет.",
  "Принтер начал печатать фанфики вместо документов.",
  "Монитор решил стать арт-объектом и показывать радугу вместо логов.",
  "Роутер начал проверять пакеты на чувство юмора и заблокировал несмешные.",
  "Сервер UPS устроил вечер караоке для сетевых устройств.",
  "Кабели начали репетицию циркового номера и перегорели.",
  "Сетевой фильтр решил проверить пакеты на вкус и заблокировал все.",
  "Маршрутизатор начал переписывать маршруты в стиле комиксов.",
  "Свитч устроил марафон по передаче пакетов между VLAN.",
  "Роутер решил устроить пикник с пакетами и заблокировал офис.",
  "Сервер DHCP начал выдавать IP наугад с рулетки.",
  "Wi-Fi точка начала рисовать портреты пользователей и блокировала тех, кто не понравился.",
  "Коммутатор решил провести урок рисования для пакетов данных.",
  "Маршрутизатор начал играть в шахматы с пакетами и заблокировал половину сети.",
  "Сервер авторизации устроил день талантов для пакетов данных.",
  "Принтер начал печатать сетевые мемы вместо документов.",
  "Монитор устроил вечер стендапа для пакетов.",
  "Роутер решил провести квест с пакетами данных и заблокировал пользователей.",
  "Сетевой фильтр начал проверять пакеты на художественные навыки.",
  "Кабели начали танцевать в стиле балета и перегорели.",
  "Wi-Fi точка устроила музыкальный флешмоб для VLAN.",
  "Маршрутизатор начал писать комикс о пакете TCP и заблокировал сеть.",
  "Сервер DHCP начал выдавать IP только тем, кто расскажет анекдот.",
  "Коммутатор решил устроить викторину по сетевым протоколам для пакетов.",
  "Роутер начал тестировать пакеты на скорость смеха и заблокировал медленные.",
  "Сетевой фильтр решил создать театр теней из пакетов данных."
  ],
  absurd: [
  "Маршрутизатор решил стать художником и перерисовывает пакеты в стиле Ван Гога.",
  "Сеть упала, потому что квантовые пакеты решили коллективно эмигрировать в параллельную вселенную.",
  "Дата-центр превратился в гигантский Wi-Fi роутер для инопланетян и отключил наш интернет.",
  "Пакеты данных объявили забастовку, требуя увеличения пропускной способности.",
  "Сервера впали в депрессию из-за постоянной обработки мемов и требуют психологической помощи.",
  "Коты-хакеры устроили DDoS-атаку, требуя увеличения квот на видео с котиками.",
  "Великий кибер-йог медитирует и временно приостановил сеть для просветления.",
  "Инопланетный радиосигнал перевел все сетевые протоколы на двоичную систему исчисления планеты Зорг.",
  "Серверы начали сражаться в шахматы вместо обработки запросов — шах и мат пользователям.",
  "Маршрутизатор решил изучать философию и перестал маршрутизировать физическую реальность.",
  "Пинг ушёл в отпуск, а пакеты так и не дождались ответа.",
  "Квантовый пакет решил стать супергероем и прыгнул в альтернативную вселенную.",
  "Сеть отключилась, потому что DNS-серверы устроили чайную церемонию.",
  "Роутеры собрались в кружок по вязанию и забыли о маршрутах.",
  "Маршрутизатор открыл портал в мир своих сновидений и заблокировал реальный интернет.",
  "Сеть решила взять выходной и улетела в отпуск в облако.",
  "Пакеты данных начали писать письма о своих чувствах и перестали передаваться.",
  "Серверы устроили шахматный турнир и забыли о подключениях.",
  "Маршрутизатор начал писать поэзию о пакетах и заблокировал все транзакции.",
  "Серверы приняли участие в киберолимпиаде и выключились для подготовки.",
  "Wi-Fi точка начала продавать билеты на концерт пакетов данных.",
  "Квантовый маршрутизатор решил стать философом и отказался работать.",
  "Сеть отключилась, потому что пакеты начали спорить о смысле жизни.",
  "Серверы устроили забастовку из-за слишком больших логов.",
  "Маршрутизатор стал художником-абстракционистом и перекодировал все данные в цвета.",
  "Пакеты данных улетели на Луну, чтобы проверить, есть ли там задержки.",
  "DNS-сервер решил писать стихи вместо ответов на запросы.",
  "Маршрутизатор устроил медитацию и заблокировал интернет.",
  "Сервер начал изучать алхимию и превратил пакеты в золото.",
  "Сеть ушла на прогулку в облако и заблокировала пользователей.",
  "Квантовые пакеты решили устроить театр теней.",
  "Маршрутизатор решил стать дирижёром симфонического оркестра пакетов.",
  "Сеть отключилась, потому что устройства спорили о правильности протоколов.",
  "Серверы начали петь гимн протоколов и перестали работать.",
  "Маршрутизатор начал преподавать философию пакетам.",
  "Пакеты данных устроили карнавал и исчезли на весь день.",
  "DNS-сервер ушёл в отпуск, оставив сеть без резолвинга.",
  "Wi-Fi точка решила провести фестиваль пакетов.",
  "Серверы устроили марафон по бегу и перестали отвечать.",
  "Сеть начала изучать эзотерику и заблокировала все соединения.",
  "Квантовый маршрутизатор решил стать поэтом и переписал маршруты.",
  "Пакеты данных устроили пикник на магистральном кабеле.",
  "Серверы начали медитировать и перестали обрабатывать запросы.",
  "Маршрутизатор стал художником и раскрасил таблицу маршрутизации.",
  "DNS-сервер начал писать дневник для пакетов данных.",
  "Сеть отключилась, потому что все устройства начали спорить о правильности протоколов.",
  "Квантовые пакеты решили провести параллельный пикник в другой вселенной.",
  "Маршрутизатор решил создать внутренний мир для пакетов данных и отключил внешний интернет.",
  "DNS-сервер начал устраивать викторины для пакетов данных.",
  "Серверы решили устроить карнавал сетевых протоколов.",
  "Wi-Fi точка решила стать художником и перекодировала пакеты в радугу.",
  "Пакеты данных ушли на медитацию и вернулись через неделю.",
  "Маршрутизатор начал преподавать йогу пакетам данных.",
  "Серверы устроили конкурс красоты среди IP-адресов.",
  "DNS-сервер начал переписывать адреса в стиле сюрреализма.",
  "Сеть устроила парад пакетов с праздничными баннерами.",
  "Квантовые маршрутизаторы решили сыграть в прятки с IPv6-пакетами.",
  "Сервер VPN ушёл на пенсию и заблокировал всех пользователей в знак протеста.",
  "Маршрутизатор начал играть в футбол с пакетами TCP.",
  "Пакеты данных решили устроить фестиваль огня на серверной стойке.",
  "DNS-сервер начал раздавать адреса по случайному вдохновению.",
  "Сеть отключилась, потому что пакеты начали спорить о политике маршрутов.",
  "Сервер DHCP начал выдавать IP только устройствам с рисунками котиков.",
  "Маршрутизатор устроил вечеринку маршрутов и заблокировал весь интернет.",
  "Wi-Fi точка решила стать библиотекарем пакетов данных.",
  "Серверы начали устраивать художественные конкурсы между VLAN.",
  "Квантовый пакет решил написать роман о своём путешествии через сеть.",
  "Маршрутизатор начал устраивать квантовые фейерверки для пакетов.",
  "DNS-сервер решил использовать пакеты для проведения астрологических прогнозов.",
  "Сеть устроила парад маршрутизаторов в стиле цирка.",
  "Пакеты данных начали писать дневники о своих приключениях.",
  "Сервер VPN решил провести медитацию с пакетами и отключил всех пользователей.",
  "Маршрутизатор устроил спектакль по квантовой механике для пакетов.",
  "Серверы начали писать поэмы о TCP и UDP.",
  "Wi-Fi точка решила стать шеф-поваром и готовит пакеты данных.",
  "DNS-сервер начал проводить эксперименты по телепортации пакетов.",
  "Маршрутизатор решил переписать маршруты в стиле кубизма.",
  "Сеть отключилась, потому что пакеты начали устраивать дебаты о смысле жизни.",
  "Серверы устроили марафон по бегу для ICMP-пакетов.",
  "Квантовые маршрутизаторы решили играть в прятки с IPv4-пакетами.",
  "Маршрутизатор начал вести блог о жизни пакетов данных.",
  "Сервер DHCP устроил лотерею для IP-адресов и заблокировал пользователей.",
  "Wi-Fi точка начала преподавать курсы по танцам для пакетов.",
  "DNS-сервер решил создавать комиксы о приключениях IP-адресов.",
  "Сеть устроила карнавал для пакетов данных с фейерверками.",
  "Пакеты данных решили устроить пикник на оптоволоконных кабелях.",
  "Серверы начали проводить уроки музыки для пакетов TCP.",
  "Маршрутизатор устроил парад комических маршрутов.",
  "Сеть отключилась, потому что маршруты начали спорить о художественном вкусе.",
  "Сервер VPN решил стать дирижёром и оркестром пакетов TCP.",
  "DNS-сервер начал выдавать адреса в стиле поэзии.",
  "Маршрутизатор устроил художественный флешмоб с пакетами данных.",
  "Серверы начали писать дневники о приключениях ICMP-пакетов.",
  "Wi-Fi точка устроила мастер-класс по йоге для пакетов.",
  "Пакеты данных устроили парад цветов на серверной стойке.",
  "Маршрутизатор начал писать сказку про маршруты и заблокировал пользователей.",
  "Сервер DHCP начал выдавать IP в стиле калейдоскопа.",
  "DNS-сервер устроил квест для пакетов по лабиринтам сети.",
  "Сеть отключилась, потому что пакеты начали устраивать театральное представление.",
  "Маршрутизатор устроил танцевальный флешмоб для VLAN.",
  "Серверы начали устраивать художественные конкурсы между пакетами.",
  "Wi-Fi точка решила стать режиссёром и сняла фильм о пакетах TCP.",
  "Пакеты данных устроили музыкальный фестиваль на магистральном кабеле.",
  "DNS-сервер начал выдавать адреса на основе случайных вдохновений.",
  "Маршрутизатор устроил цирковое шоу для пакетов TCP.",
  "Сеть отключилась, потому что маршруты начали спорить о смысле жизни.",
  "Серверы начали писать комедийные сценарии для ICMP-пакетов.",
  "Wi-Fi точка устроила художественную выставку пакетов.",
  "DNS-сервер решил устроить квантовый карнавал для IP-адресов.",
  "Маршрутизатор начал писать стихи про маршруты и заблокировал всех.",
  "Серверы устроили конкурс на лучший костюм пакета данных.",
  "Сеть отключилась, потому что пакеты начали устраивать парад шуток.",
  "Маршрутизатор начал преподавать историю сетевых протоколов пакетам.",
  "Сервер VPN устроил медитацию и заблокировал всех пользователей.",
  "DNS-сервер решил переписать адреса в стиле сюрреализма.",
  "Маршрутизатор начал создавать комиксы про пакеты TCP.",
  "Серверы начали проводить марафон по бегу для пакетов данных.",
  "Wi-Fi точка устроила мастер-класс по приготовлению пакетов данных.",
  "Пакеты данных решили устроить квест по параллельным вселенным.",
  "DNS-сервер начал выдавать адреса в стиле квестов.",
  "Маршрутизатор устроил спектакль по квантовой механике для пакетов.",
  "Серверы начали писать поэмы о TCP и UDP.",
  "Wi-Fi точка решила стать шеф-поваром и готовит пакеты данных.",
  "DNS-сервер начал проводить эксперименты по телепортации пакетов.",
  "Маршрутизатор решил переписать маршруты в стиле кубизма.",
  "Сеть отключилась, потому что пакеты начали устраивать дебаты о смысле жизни."
  ]
};



    const $ = id => document.getElementById(id);
    const excuseEl = $('excuse');
    const sos = $('sos');
    const another = $('another');
    const copyBtn = $('copy');
    const togglePrompt = $('togglePrompt');
    const promptBox = $('promptBox');
    const chkTech = $('chkTech'), chkComic = $('chkComic'), chkAbsurd = $('chkAbsurd');
    const counterEl = $('counter');
    const uptimeEl = $('uptime');

    let lastIdx = -1, lastCat = "";
    let generatedCount = 0;
    let startTime = Date.now();

    // Анимированный фон
    function createAnimatedBackground() {
      const bgAnimation = $('bgAnimation');
      const colors = ['#00ff99', '#00ccff', '#ff4d4f'];
      
      for (let i = 0; i < 15; i++) {
        const circle = document.createElement('div');
        circle.classList.add('bg-circle');
        
        const size = Math.random() * 300 + 100;
        circle.style.width = `${size}px`;
        circle.style.height = `${size}px`;
        
        circle.style.left = `${Math.random() * 100}%`;
        circle.style.top = `${Math.random() * 100}%`;
        
        circle.style.background = colors[Math.floor(Math.random() * colors.length)];
        
        circle.style.animation = `
          moveX ${Math.random() * 20 + 20}s linear infinite alternate,
          moveY ${Math.random() * 15 + 15}s linear infinite alternate
        `;
        
        bgAnimation.appendChild(circle);
      }
    }

    // Таймер работы приложения
    function updateUptime() {
      const elapsed = Date.now() - startTime;
      const seconds = Math.floor(elapsed / 1000) % 60;
      const minutes = Math.floor(elapsed / (1000 * 60)) % 60;
      const hours = Math.floor(elapsed / (1000 * 60 * 60));
      
      uptimeEl.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    function getPool() {
      let pool = [];
      if (chkTech.checked) pool = pool.concat(EXCUSES.tech);
      if (chkComic.checked) pool = pool.concat(EXCUSES.comic);
      if (chkAbsurd.checked) pool = pool.concat(EXCUSES.absurd);
      return pool;
    }

    function getRandomExcuse() {
      const pool = getPool();
      if (pool.length === 0) return "(Нет выбранных категорий)";
      let idx;
      do { idx = Math.floor(Math.random() * pool.length); } while (pool.length > 1 && idx === lastIdx);
      lastIdx = idx;
      return pool[idx];
    }

    let isAnimating = false;
    let animationTimer = null;

     function typeOut(text, element, speed = 18) {
        // Останавливаем предыдущую анимацию, если она есть
        if (isAnimating) {
            clearTimeout(animationTimer);
            isAnimating = false;
            element.innerHTML = '';
        }

        element.innerHTML = '';
        let i = 0;
        isAnimating = true;
        const caret = document.createElement('span');
        caret.className = 'caret';
        
        function step() {
            if (i < text.length && isAnimating) {
                element.innerHTML += text.charAt(i);
                i++;
                animationTimer = setTimeout(step, speed + Math.random() * 12);
            } else if (isAnimating) {
                element.appendChild(caret);
                setTimeout(() => { 
                    if (caret.parentNode === element) {
                        caret.remove(); 
                    }
                }, 500);
                isAnimating = false;
            }
        }
        step();
    }

    function generate() {
        if (isAnimating) return; // Защита от запуска во время анимации
        
        const text = getRandomExcuse();
        typeOut(text, excuseEl);
        generatedCount++; 
        counterEl.textContent = generatedCount;
        
        // Анимация появления
        excuseEl.animate([
            { opacity: 0, transform: 'translateY(10px)' },
            { opacity: 1, transform: 'translateY(0)' }
        ], {
            duration: 500,
            easing: 'ease-out'
        });
    }

    // Инициализация
    document.addEventListener('DOMContentLoaded', () => {
      createAnimatedBackground();
      setInterval(updateUptime, 1000);
      
      sos.addEventListener('click', () => {
        sos.animate([
          { transform: 'scale(1)' },
          { transform: 'scale(0.92)' },
          { transform: 'scale(1)' }
        ], { duration: 260 });
        generate();
      });
      
      another.addEventListener('click', () => { generate(); });
      
      copyBtn.addEventListener('click', async () => {
        try {
          const text = excuseEl.innerText || excuseEl.textContent;
          await navigator.clipboard.writeText(text);
          
          // Анимация успешного копирования
          copyBtn.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z" fill="currentColor"/>
            </svg>
            Скопировано!
          `;
          
          setTimeout(() => {
            copyBtn.innerHTML = `
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
              </svg>
              Скопировать
            `;
          }, 2000);
        } catch (e) {
          copyBtn.textContent = 'Ошибка';
          setTimeout(() => { copyBtn.textContent = 'Скопировать'; }, 2000);
        }
      });


      // Генерация по нажатию пробела
      document.addEventListener('keydown', (e) => {
        if (e.code === 'Space' && e.target === document.body) {
          e.preventDefault();
          generate();
        }
      });

      // Первое сообщение
      setTimeout(() => {
        const intro = 'Нажмите SOS, чтобы получить оправдание...';
        typeOut(intro, excuseEl, 16);
      }, 300);
    });
  </script>
</body>
</html>